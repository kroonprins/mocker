<div class="field" *ngFor="let cookie of cookies; let i = index">
  <div class="field is-horizontal">
    <div class="field-label is-normal">
      <label for="cookie" class="label">{{i === 0 ? label : ''}}</label>
    </div>
    <div class="field-body">
      <div class="field" name="cookie">
        <div class="control">
          <input type="text" id="cookieName" required [(ngModel)]="cookie.name" class="input" [readonly]="readonly" placeholder="name"
            name="cookieName-{{i}}">
        </div>
      </div>
      <div class="field">
        <div class="control">
          <input type="text" id="cookieValue" [(ngModel)]="cookie.value" class="input" [readonly]="readonly" placeholder="value" name="cookieValue-{{i}}">
        </div>
      </div>
      <div class="field" *ngIf="isResponseCookie">
        <div class="control">
          <button id="toggleCookieProperties" (click)="toggleCookieProperties(cookie)" class="button">Properties</button>
        </div>
      </div>
      <div class="field" *ngIf="!readonly">
        <div class="control">
          <button (click)="removeCookie(i)" class="button is-primary">Remove</button>
        </div>
      </div>
    </div>
  </div>
  <div class="field is-horizontal" *ngIf="cookie.showProperties">
    <div class="field-label is-normal">
      <label for="cookieProperties" class="label"></label>
    </div>
    <div class="field-body" name="cookieProperties">
      <div class="field">
        <div class="control">
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="cookiePropertyHttpOnly" class="label">httpOnly</label>
            </div>
            <div class="field-body" name="cookiePropertyHttpOnly">
              <input type="text" id="cookiePropertyHttpOnly" [(ngModel)]="cookie.properties.httpOnly" class="input" [readonly]="readonly"
                name="cookiePropertyHttpOnly-{{i}}">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="cookiePropertySecure" class="label">secure</label>
            </div>
            <div class="field-body" name="cookiePropertySecure">
              <input type="text" id="cookiePropertySecure" [(ngModel)]="cookie.properties.secure" class="input" [readonly]="readonly" name="cookiePropertySecure-{{i}}">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="cookiePropertyDomain" class="label">domain</label>
            </div>
            <div class="field-body" name="cookiePropertyDomain">
              <input type="text" id="cookiePropertyDomain" [(ngModel)]="cookie.properties.domain" class="input" [readonly]="readonly" name="cookiePropertyDomain-{{i}}">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="cookiePropertyEncode" class="label">encode</label>
            </div>
            <div class="field-body" name="cookiePropertyEncode">
              <input type="text" id="cookiePropertyEncode" [(ngModel)]="cookie.properties.encode" class="input" [readonly]="readonly" name="cookiePropertyEncode-{{i}}">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="cookiePropertyExpires" class="label">expires</label>
            </div>
            <div class="field-body" name="cookiePropertyExpires">
              <input type="text" id="cookiePropertyExpires" [(ngModel)]="cookie.properties.expires" class="input" [readonly]="readonly"
                name="cookiePropertyExpires-{{i}}">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="cookiePropertyMaxAge" class="label">max-age</label>
            </div>
            <div class="field-body" name="cookiePropertyMaxAge">
              <input type="text" id="cookiePropertyMaxAge" [(ngModel)]="cookie.properties.maxAge" class="input" [readonly]="readonly" name="cookiePropertyMaxAge-{{i}}">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="cookiePropertyPath" class="label">path</label>
            </div>
            <div class="field-body" name="cookiePropertyPath">
              <input type="text" id="cookiePropertyPath" [(ngModel)]="cookie.properties.path" class="input" [readonly]="readonly" name="cookiePropertyPath-{{i}}">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="cookiePropertySigned" class="label">signed</label>
            </div>
            <div class="field-body" name="cookiePropertySigned">
              <input type="text" id="cookiePropertySigned" [(ngModel)]="cookie.properties.signed" class="input" [readonly]="readonly" name="cookiePropertySigned-{{i}}">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="cookiePropertySameSite" class="label">same-site</label>
            </div>
            <div class="field-body" name="cookiePropertySameSite">
              <input type="text" id="cookiePropertySameSite" [(ngModel)]="cookie.properties.sameSite" class="input" [readonly]="readonly"
                name="cookiePropertySameSite-{{i}}">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="field">
  <div class="field is-horizontal" *ngIf="!readonly && !isResponseCookie">
    <div class="field-label is-normal">
      <label class="label">{{cookies && cookies.length > 0 ? '' : label }}</label>
    </div>
    <div class="field-body">
      <div class="field">
        <div class="control">
          <input type="text" id="newCookieName" required [(ngModel)]="newCookie.name" class="input" placeholder="name" name="newCookieName">
        </div>
      </div>
      <div class="field">
        <div class="control">
          <input type="text" id="newCookieValue" [(ngModel)]="newCookie.value" class="input" placeholder="value" name="newCookieValue">
        </div>
      </div>
      <div class="field">
        <div class="control">
          <button (click)="addNewCookie()" class="button is-primary">Add</button>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="field">
  <div class="field is-horizontal" *ngIf="!readonly && isResponseCookie">
    <div class="field-label is-normal">
      <label class="label">{{cookies && cookies.length > 0 ? '' : label }}</label>
    </div>
    <div class="field-body">
      <!-- <form #addResponseCookie="ngForm"> TODO messes up styling -->
      <div class="field">
        <div class="control">
          <input type="text" id="newResponseCookieName" required [(ngModel)]="newResponseCookie.name" class="input" placeholder="name"
            name="newResponseCookieName">
        </div>
      </div>
      <div class="field">
        <div class="control">
          <input type="text" id="newResponseCookieValue" [(ngModel)]="newResponseCookie.value" class="input" placeholder="value" name="newResponseCookieValue">
        </div>
      </div>
      <div class="field">
        <div class="control">
          <button id="toggleCookieProperties" (click)="toggleCookieProperties(newResponseCookie)" class="button">Properties</button>
        </div>
      </div>
      <div class="field">
        <div class="control">
          <!-- <button (click)="addNewResponseCookie()" class="button is-primary" [disabled]="!addResponseCookie.form.valid">Add</button> -->
          <button (click)="addNewResponseCookie()" class="button is-primary">Add</button>
        </div>
      </div>
      <!-- </form> -->
    </div>
  </div>
</div>
<div class="field">
  <div class="field is-horizontal" *ngIf="!readonly && isResponseCookie && newResponseCookie.showProperties">
    <div class="field-label is-normal">
      <label for="newResponseCookieProperties" class="label"></label>
    </div>
    <div class="field-body" name="newResponseCookieProperties">
      <div class="field">
        <div class="control">
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="newResponseCookiePropertyHttpOnly" class="label">httpOnly</label>
            </div>
            <div class="field-body" name="newResponseCookiePropertyHttpOnly">
              <input type="text" id="newResponseCookiePropertyHttpOnly" [(ngModel)]="newResponseCookie.properties.httpOnly" class="input"
                name="newResponseCookiePropertyHttpOnly">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="newResponseCookiePropertySecure" class="label">secure</label>
            </div>
            <div class="field-body" name="newResponseCookiePropertySecure">
              <input type="text" id="newResponseCookiePropertySecure" [(ngModel)]="newResponseCookie.properties.secure" class="input" name="newResponseCookiePropertySecure">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="newResponseCookiePropertyDomain" class="label">domain</label>
            </div>
            <div class="field-body" name="newResponseCookiePropertyDomain">
              <input type="text" id="newResponseCookiePropertyDomain" [(ngModel)]="newResponseCookie.properties.domain" class="input" name="newResponseCookiePropertyDomain">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="newResponseCookiePropertyEncode" class="label">encode</label>
            </div>
            <div class="field-body" name="newResponseCookiePropertyEncode">
              <input type="text" id="newResponseCookiePropertyEncode" [(ngModel)]="newResponseCookie.properties.encode" class="input" name="newResponseCookiePropertyEncode">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="newResponseCookiePropertyExpires" class="label">expires</label>
            </div>
            <div class="field-body" name="newResponseCookiePropertyExpires">
              <input type="text" id="newResponseCookiePropertyExpires" [(ngModel)]="newResponseCookie.properties.expires" class="input"
                name="newResponseCookiePropertyExpires">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="newResponseCookiePropertyMaxAge" class="label">max-age</label>
            </div>
            <div class="field-body" name="newResponseCookiePropertyMaxAge">
              <input type="text" id="newResponseCookiePropertyMaxAge" [(ngModel)]="newResponseCookie.properties.maxAge" class="input" name="newResponseCookiePropertyMaxAge">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="newResponseCookiePropertyPath" class="label">path</label>
            </div>
            <div class="field-body" name="newResponseCookiePropertyPath">
              <input type="text" id="newResponseCookiePropertyPath" [(ngModel)]="newResponseCookie.properties.path" class="input" name="newResponseCookiePropertyPath">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="newResponseCookiePropertySigned" class="label">signed</label>
            </div>
            <div class="field-body" name="newResponseCookiePropertySigned">
              <input type="text" id="newResponseCookiePropertySigned" [(ngModel)]="newResponseCookie.properties.signed" class="input" name="newResponseCookiePropertySigned">
            </div>
          </div>
          <div class="field is-horizontal">
            <div class="field-label is-normal">
              <label for="newResponseCookiePropertySameSite" class="label">same-site</label>
            </div>
            <div class="field-body" name="newResponseCookiePropertySameSite">
              <input type="text" id="newResponseCookiePropertySameSite" [(ngModel)]="newResponseCookie.properties.sameSite" class="input"
                name="newResponseCookiePropertySameSite">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
